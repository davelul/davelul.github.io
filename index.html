<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INTELLIGENCE CENTER</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --accent: #c8a45a;
    --accent-dim: rgba(200,164,90,.15);
    --text: #e8dfc8;
    --muted: rgba(232,223,200,.45);
    --border: rgba(200,164,90,.25);
  }

  html, body {
    width: 100%; height: 100%;
    overflow: hidden;
    background: #060807;
    cursor: crosshair;
  }

  /* ── BACKGROUND PARALLAX LAYER ── */
  #bg {
    position: fixed;
    inset: -60px; /* oversized so parallax shift doesn't show edges */
    background: url('./bg.jpg') center center / cover no-repeat;
    will-change: transform;
    transition: transform .12s cubic-bezier(.25,.46,.45,.94);
    filter: brightness(.45) saturate(.8);
    z-index: 0;
  }

  /* Dark vignette overlay */
  #bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center,
      transparent 20%,
      rgba(4,6,4,.6) 60%,
      rgba(2,3,2,.92) 100%
    );
  }

  /* Subtle grain texture */
  #grain {
    position: fixed;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    opacity: .045;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-size: 128px;
  }

  /* ── MAIN LAYOUT ── */
  #scene {
    position: fixed;
    inset: 0;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0;
  }

  /* ── LOGO / TITLE ── */
  #logo {
    text-align: center;
    margin-bottom: 64px;
    opacity: 0;
    transform: translateY(-20px);
    animation: fadeUp .9s .2s cubic-bezier(.16,1,.3,1) forwards;
  }

  #logo-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(52px, 8vw, 96px);
    letter-spacing: .18em;
    color: var(--text);
    line-height: 1;
    text-shadow: 0 0 60px rgba(200,164,90,.2);
  }

  #logo-sub {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    letter-spacing: .35em;
    color: var(--accent);
    margin-top: 10px;
    text-transform: uppercase;
  }

  /* horizontal rule with corner accents */
  #logo-rule {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-top: 16px;
    justify-content: center;
  }
  #logo-rule span {
    display: block;
    height: 1px;
    width: 80px;
    background: linear-gradient(90deg, transparent, var(--accent));
  }
  #logo-rule span:last-child {
    background: linear-gradient(90deg, var(--accent), transparent);
  }
  #logo-rule i {
    width: 5px; height: 5px;
    border: 1px solid var(--accent);
    transform: rotate(45deg);
    display: block;
    background: var(--accent);
  }

  /* ── NAV CARDS ── */
  #nav {
    display: flex;
    gap: 20px;
    align-items: stretch;
  }

  .card {
    position: relative;
    width: clamp(140px, 18vw, 220px);
    aspect-ratio: .72;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    padding-bottom: 28px;
    border: 1px solid var(--border);
    background: rgba(8,11,8,.55);
    backdrop-filter: blur(8px);
    text-decoration: none;
    overflow: hidden;
    cursor: crosshair;
    opacity: 0;
    transform: translateY(30px);
    transition:
      border-color .3s,
      background .3s,
      transform .4s cubic-bezier(.16,1,.3,1);
  }

  /* staggered entrance */
  .card:nth-child(1) { animation: fadeUp .8s .5s cubic-bezier(.16,1,.3,1) forwards; }
  .card:nth-child(2) { animation: fadeUp .8s .65s cubic-bezier(.16,1,.3,1) forwards; }
  .card:nth-child(3) { animation: fadeUp .8s .8s cubic-bezier(.16,1,.3,1) forwards; }

  /* corner brackets */
  .card::before, .card::after {
    content: '';
    position: absolute;
    width: 14px; height: 14px;
    transition: width .3s, height .3s;
  }
  .card::before {
    top: 8px; left: 8px;
    border-top: 1px solid var(--accent);
    border-left: 1px solid var(--accent);
  }
  .card::after {
    bottom: 8px; right: 8px;
    border-bottom: 1px solid var(--accent);
    border-right: 1px solid var(--accent);
  }

  .card:hover {
    border-color: rgba(200,164,90,.6);
    background: rgba(200,164,90,.07);
    transform: translateY(-6px);
  }
  .card:hover::before, .card:hover::after {
    width: 22px; height: 22px;
  }

  /* card icon area */
  .card-icon {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  .card-icon svg {
    width: 36px; height: 36px;
    stroke: var(--muted);
    fill: none;
    stroke-width: 1.2;
    stroke-linecap: round;
    stroke-linejoin: round;
    transition: stroke .3s, filter .3s;
  }
  .card:hover .card-icon svg {
    stroke: var(--accent);
    filter: drop-shadow(0 0 8px rgba(200,164,90,.5));
  }

  /* card label */
  .card-label {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(22px, 3vw, 32px);
    letter-spacing: .25em;
    color: var(--muted);
    transition: color .3s, text-shadow .3s;
  }
  .card:hover .card-label {
    color: var(--text);
    text-shadow: 0 0 20px rgba(200,164,90,.3);
  }

  /* card number tag */
  .card-num {
    position: absolute;
    top: 10px; right: 12px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    letter-spacing: .2em;
    color: rgba(200,164,90,.35);
  }

  /* scan line animation on hover */
  .card-scan {
    position: absolute;
    left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(200,164,90,.4), transparent);
    top: -2px;
    transition: none;
  }
  .card:hover .card-scan {
    animation: scan 1.4s linear infinite;
  }

  /* bottom status bar */
  #status {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    letter-spacing: .3em;
    color: rgba(200,164,90,.3);
    z-index: 3;
    opacity: 0;
    animation: fadeUp .6s 1.2s forwards;
  }

  #status::before {
    content: '▸ ';
    color: rgba(200,164,90,.5);
  }

  /* coordinate display — follows mouse */
  #coords {
    position: fixed;
    bottom: 24px;
    right: 32px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    letter-spacing: .2em;
    color: rgba(200,164,90,.2);
    z-index: 3;
    pointer-events: none;
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes scan {
    from { top: -2px; }
    to   { top: 102%; }
  }

  /* ── MOBILE ── */
  @media (max-width: 580px) {
    #nav { gap: 12px; }
    .card { width: clamp(100px, 28vw, 140px); }
    #logo { margin-bottom: 40px; }
  }
</style>
</head>
<body>

<div id="bg"></div>
<div id="grain"></div>

<div id="scene">
  <div id="logo">
    <div id="logo-title">INTELLIGENCE CENTER</div>
    <div id="logo-rule">
      <span></span><i></i><span></span>
    </div>
    <div id="logo-sub">Intelligence &amp; Operations Center</div>
  </div>

  <div id="nav">

    <a class="card" href="./app.html?view=maps">
      <span class="card-scan"></span>
      <span class="card-num">01</span>
      <div class="card-icon">
        <!-- map icon -->
        <svg viewBox="0 0 24 24">
          <polygon points="1,6 1,22 8,18 16,22 23,18 23,2 16,6 8,2"/>
          <line x1="8" y1="2" x2="8" y2="18"/>
          <line x1="16" y1="6" x2="16" y2="22"/>
        </svg>
      </div>
      <div class="card-label">MAPS</div>
    </a>

    <a class="card" href="./app.html?view=market">
      <span class="card-scan"></span>
      <span class="card-num">02</span>
      <div class="card-icon">
        <!-- market / price tag icon -->
        <svg viewBox="0 0 24 24">
          <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/>
          <line x1="7" y1="7" x2="7.01" y2="7"/>
        </svg>
      </div>
      <div class="card-label">MARKET</div>
    </a>

    <a class="card" href="./app.html?view=quests">
      <span class="card-scan"></span>
      <span class="card-num">03</span>
      <div class="card-icon">
        <!-- quests / checklist icon -->
        <svg viewBox="0 0 24 24">
          <path d="M9 11l3 3L22 4"/>
          <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
        </svg>
      </div>
      <div class="card-label">QUESTS</div>
    </a>

  </div>
</div>

<div id="status">SYSTEM READY — SELECT OPERATION</div>
<div id="coords">0000 / 0000</div>

<script>
  const bg = document.getElementById('bg');
  const coords = document.getElementById('coords');
  const STRENGTH = 18; // px max shift — increase for more dramatic effect

  let mx = 0, my = 0;
  let cx = 0, cy = 0;
  let raf;

  document.addEventListener('mousemove', e => {
    // Normalize to -1 → +1 range
    mx = (e.clientX / window.innerWidth  - 0.5) * 2;
    my = (e.clientY / window.innerHeight - 0.5) * 2;

    // Update coordinate display
    const px = Math.round(e.clientX).toString().padStart(4,'0');
    const py = Math.round(e.clientY).toString().padStart(4,'0');
    coords.textContent = `${px} / ${py}`;
  });

  // Smooth lerp loop — much smoother than applying on every mousemove
  function lerp(a, b, t) { return a + (b - a) * t; }

  function loop() {
    cx = lerp(cx, mx, 0.06);
    cy = lerp(cy, my, 0.06);
    bg.style.transform = `translate(${-cx * STRENGTH}px, ${-cy * STRENGTH}px)`;
    raf = requestAnimationFrame(loop);
  }
  loop();

  // Touch support — parallax on gyroscope if available
  if (window.DeviceOrientationEvent) {
    window.addEventListener('deviceorientation', e => {
      mx = Math.max(-1, Math.min(1, (e.gamma || 0) / 30));
      my = Math.max(-1, Math.min(1, (e.beta  || 0) / 30));
    });
  }
</script>
</body>
</html>
